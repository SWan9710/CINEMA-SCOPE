# client

## 230516

- 전체영화정보 들고오는 MovieView 구성
  
  - MovieView 를 통한 component 구조 설정 및 axios 요청설정
  
  - MovieView - MovieList -MovieListItem 구조
  
  - MovieListItem에서 axios 요청으로 정보받기 설정 및 Detail 페이지로 이동하는 button 설정
  
  - 아직은 데이터를 넣지않아 정보가 안뜸 구조는 잡음

- 영화 세부 정보 들고오는 MovieDetailView 구성
  
  - MovieListItem의 button 클릭시 router-link를 이용해 해당 영화정보의 pk값으로 이동하는 구조로 설정
  
  - MovieDetailView에서 store로 action 요청
  
  - action 에서 axios 요청으로 해당 영화정보의 pk 값을 url에 추가하여 axios 요청 보냄
  
  - 담아올 movie 객체설정 후 뽑아올 값들 p태그로 일단 감싸둠

---

## 230517

- 어제 설정한 컴포넌트들 오류나는거 전부 수정해서 정보 뽑음

- Detail페이지로 이동하는 라우터링크 설정

- 라우터 링크 들어가면 해당 영화의 예고편 뽑아오게 설정(자동재생 + 무음) <- 수정가능

- MovieDetail 에서 보여질 Review들 기본구조 잡음

- MovieDetail 에서 받아온 movie 정보를 ReviewList에 props로 넘겨주고
  
  ReviewList에서 받아온 pk 정보에 /reviews 붙여서 장고서버로 axios 요청보내는 구조 잡음

- axios 받아온 정보 reviews에 담아서 ReviewListItem으로 보내는 구조 설정 v-for 사용하여 review 로 정보 넘겨줌 key 값은 임시로 index로 설정

> ##### 230518 할일

- reivews axios 요청보내는 주소 정확히 알아내기

- review crud 생성

- 장르 데이터 뽑아서 MovieMain에 추가 및 디테일에 추가하기

---

## 230518

> [한것]

- 로그인 / 로그아웃 / 회원가입 구현

- 시작시 '/' 주소로 요청 들어올 시 보여질 페이지 구성

- 페이지 상단으로 이동하는 버튼 생성

> [내일할일]

- 디테일 페이지에 댓글창 구성

- 메인페이지에서 요청보내는 axios 구분해서 데이터 3줄 뽑기

- 메인 및 디테일 페이지에 장르데이터 추가하기

- 로그인 / 로그아웃 / 회원가입 등 accounts 요청 들어올 때 회원정보 저장하기

> [오류난것들]

- 로그인 url 주소로 axios 요청 보낼 때 accounts 로 보내서 제대로 로그인이 되지 않음

- 회원가입시 alert 창을 이용하여 필요한 데이터 만큼만 받게 막아줬는데 drf 내장함수? 를 이용해서 변경해줬는데 문자 / 숫자 / 특수문자가 필수 입력조건인데 제대로 입력 안해서 오류나던거 해결 못했었음 회원가입 오류 알아낸 뒤로 다시 정상작동 됨

- 로그아웃시 메인페이지에서 라우터 링크 요청을 다시 메인페이지로 보내버려 라우터 오류나는거 해결못함 로그아웃시 token을 삭제하는데 이때 삭제방법이 SET_TOKEN 에 있는 token 값을 빈문자열로 넘겨주는 방식으로 해결함 이때 문제가 SET_TOKEN이 라우터 푸쉬해주는 페이지가 메인페이지라서 같은 페이지에서 같은 페이지로 이동되서 문제가 났었음 다시 DELETE_TOKEN으로 변경한다면 해결 가능할 것 같음

- 서버 시작 및 페이지 최초 접속시 보여지는 화면에 NavBar가 계속 보여줬었는데 이거 해결해줌 console.log로 찍어보며 어떤 부분이 실행이 안되는지 알아내고 state에 들어간 true/false 정보를 토대로 삼항연산자로 nav의 클래스를 구분해줌 클래스에 display:none; 속성값을 줘서 페이지 시작시 3초 후 nav 바가 보여지게 만들어줌

---

## 230519

> [한것]

- 회원가입시 이메일, 장르데이터, 이미지 넣게함

- 게시글 생성, 수정, 삭제, 전체조회 기능 만듬

- 게시글 디테일 페이지에서 홈으로 돌아가는 라우터 버튼 만듬

> [내일할것]

- 무비 메인에 들어있는 검색창 네브바로 옮기기

- 무비 디테일에 장르 데이터 연동해서 출력

- 무비메인에 장르별 선호도 영화 출력하기

- 검색한 페이지에서 디테일 페이지로 이동가능하게 하기

- 디테일 페이지에 리뷰 부분 보이게 하기

- 틴더 이용해서 사용자가 좋아요 하는 영화정보 추가하기

> [오류난것들]

- 이미지 넣었다가 다시 제거 후 다시 이미지를 넣으려 하면 이미지가 안들어가는 현상 발생

- 장르데이터 3개 선택 후 본인이 원래 선택한 데이터 제거하려 해도 alert 창이 뜸

- 게시물 생성시 글 번호를 게시물의 pk번호로 지정해서 전체 게시물 조회할때 db를 날리지 않는 이상 게시물 번호가 꼬임

- 장르 데이터 받아오는 부분에서 자꾸 이상한 오류가 발생하는데 아직 해결 못함

- 무비 디테일이나 게시물 디테일에서 새로고침을 하면 axios 요청으로 받은 데이터가 날아가 버려서 게시물이 보이지 않음 게시물이 날아가지 않게 하기 위해 윈도우 스토리지에 정보를 저장하는데 정보가 날아감

---

## 230520

> [한것]

- 디테일 페이지 장르연동

- 검색창 위치 네브바로 옮기기

- 메인에 장르별 선호영화 출력 컴포넌트 구조잡기

- 메인에 개봉일 순 영화 출력 컴포넌트 구조잡기

- 디테일에 리뷰 추가 및 생성 수정 삭제 구현 --> 페이지 렌더링 할때 데이터 없으면 axios 요청 보내기

- 회원가입 페이지 수정 및 정보저장 --> by 훈석

- 검색창에서 해당영화 클릭시 해당 페이지로 이동하게 하기

> [내일할것(해야할것들)]

- 유저 프로필 페이지 추가

- 좋아요 기능 추가

- 팔로우 기능 추가

- 틴더 페이지 적용

- 검색창에서 재검색시 오류나는거 해결하기(라우터 푸쉬할때 페이지 이동이 없어서 그런거 같음 if 조건문으로 해결해야함 해서 그런거 같음)

- 영화 리뷰페이지에 평점 남기기 추가

> [오류난것들]

- 영화 리뷰 작성시 작성이 디테일 페이지에서 이루어 지다보니 라우터 푸쉬를 디테일로 다시 보내버리면 페이지 정보가 날아가버림 또한 작성 후 수정이나 삭제역시 디테일 페이지에서 그대로 이루어 지다보니 요청은 정상적으로 들어가는데 화면에 바로 적용이 안되는 문제가 있음 이를 해결하려면 해당 정보를 페이지에서 저장한 후 watch나 computed로 해결해야 할것 같은데 아직 잘 모르겠음

- 장르별 영화를 출력할때 받아온 정보의 title을 뽑아서 화면에 부착하려 하는데 오류가 남 왜이러는지 console로 안찍어서 아직 잘 모르겠는데 확인해 봐야함

- ~~틴더 쓸라는데 해야할게 많아서 좀 겁남~~

- 이제 css 작업해야 하는데 css 적용시 파일이 자꾸 깨짐

---

## 230521

> [한것]

- 유저 프로필 페이지 추가

- 유저 프로필 수정 추가

- 게시물에 댓글기능 추가

- 게시물에 댓글 삭제 기능 추가

- 틴더 페이지 --> 훈석햄이 만짐

> [내일할것들]

- 코드 리팩토링

- 좋아요 기능 수정

- 영화 리뷰페이지에 사용자가 평점 남기는 기능 추가

- 검색창에서 재검색 하는거 수정하기

> [오류난것]

- 여전히 오타와의 싸움 methods 안에 computed를 써서 오타가 많이 났었음

- url axios 요청 보낼때 뒤에 / 빼고 보내서 오류남

- 프로필 수정할때 불러오는 이미지가 기본 이미지를 불러옴 또 회원가입시 이미지를 넣으면 넣은 이미지를 보여주는게 아니라 alt 글자 보여줌 이거 수정해야함

- 같은 페이지 새로고침 해도  axios 요청 제대로 안감 이거 해결해야하는데 내일 까지 기능구현 다하고 내가 css 만지는동안 훈석햄이 코드 리팩토링 봐준다함 vuex로 store에 데이터 저장한거를 페이지에서 요청으로 다시 불러오는 형식으로 사용해야 한다는데 솔직히 좀 어려움 내일은 기능구현 오전까지 하고 오후부터는 css 진짜 만져야함

---

## 220522

> [한것]

- 검색창 재검색 시 파라미터값에 검색결과 이름을 넘겨서 재검색시 오류나는것 해결함

- 페이지 CSS 작업시작함

> [내일할것들]

- 오류수정 해야하는데 서버 연관된 것들이라 내가 못하고 훈석이형 한테 넘겨줘야 함

- 페이지별 CSS 작업만 계속 해야함

> [오류난것]

- CSS 작업 하는데 App.vue에서 부모의 넓이를 지정안해둬서 넓이를 100퍼센트로 지정해둬 화면이 출력이 안됨

- 포지션 설정이 안맞아서 페이지에서 출력이 안맞음

- 반응형 웹으로 구현하려 했는데 페이지 화면이 줄어들면 CSS레이아웃이 깨짐 부트스트랩 사용해서 반응형으로 구현하려 했는데 설정 방법과 지정해야할 것들이 너무 많아서 시간이 부족해서 제대로 지정못함 지정하는방법도 헷갈려서 반응형으로 구현 못했음

---

> [오류정리]

## Vue

- axios 요청 보내서 받아온 정보를 state에 저장하고 state에서 꺼내온 정보를 실시간으로 렌더링 하려고 하는데 화면이 새로고침 되어야지만 화면에 출력됨

- 배열속에 저장한 값들을 꺼내어 올때 watch이용 해서 꺼내오거나 getters로 불러온 정보들을 v-for 이용해서 반복문 돌려서 넘겨주려 했는데 넘겨주는 과정에서 오류가 발생함

- axios요청으로 받아온 정보들을 컴포넌트에서 꺼내쓸때 오타때문에 안되는 경우가 너무 많았음

## CSS

- 부모의 넓이를 지정안하고 컴포넌트의 넓이를 100%로 지정해서 화면에 출력이 안되는 경우가 많았음

- 포스터에 앞면에 그라데이션을 넣고 포스터 그라데이션 부분에 글자를 넣으려 하는데 포스터를 img 태그로 넣으니 그라데이션을 넣을 div 태그를 넣을 공간이 없었음 그래서 백그라운드 이미지로 포스터를 넣고 그 공간에 div태그를 넣어서 해결함

- div 태그에 p태그도 함께 넣어서 포지션을 relative로 넣어서 이미지에 글자넣기도 성공함

- 네비바에 클릭시 밑줄생성 이벤트를 넣으려 했는데 밑줄로 보여지는 부분이 크기변화가 없어서 hover 이벤트를 넣어도 부드럽게 나오지가 않았음

- 네비바에 클릭 이벤트 발생시 사이즈를 늘려주며 부드럽게 만드는 이벤트 넣어줌

- 전체 페이지 색감과 포스터 표시 형식등을 통일하려 했는데 기본구조 CSS는 내가하고 추가기능인 tinder 부분의 CSS를 훈석이 형이 하면서 의사소통이 안되서 전체구조가 안맞음

- 페이지별로 네비바의 표시여부를 지정해주려 했는데 state에 네비바 상태를 저장해서 페이지 별로 다르게 해줌 표시할때 state에 저장한 값을 반대로 뒤집어서 새로고침하면 네비바 나오다 안나오다가 반복함 life cycle hook을 이용해서 mounted 와 destroyed를 이용해서 생성과 파괴시 정보를 생성과 파괴로 지정해서 새로고침시 뒤집어지던 네비바를 고침
